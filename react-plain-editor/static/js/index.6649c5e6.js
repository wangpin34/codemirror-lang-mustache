(()=>{"use strict";var e={925:function(e,t,n){var r=n("549"),a=n("194"),o=n("82"),s=n("606"),c=n("235"),i=n("987"),l=n("611"),u=n("391"),d=n("353");let f=n("94").WQ.deserialize({version:14,states:"!^QYQPOOOeQQO'#CcOOQO'#Cj'#CjOOQO'#Cf'#CfQYQPOOOOQO'#Cd'#CdOOQO,58},58}OmQPO,58}OOQO-E6d-E6dOOQO1G.i1G.i",stateData:"r~O]OSPOS~ORQOSQOUPO~OTUOXTO~OTXO~O",goto:"q_PPPPPPP`dPgPPPmTQOSRVPQSORWSTROS",nodeNames:"âš  LineComment Program Identifier String MustacheEnd MustacheStart Mustache MustacheContent MustacheIdentifier",maxTerm:14,nodeProps:[["openedBy",5,"MustacheStart"],["closedBy",6,"MustacheEnd"],["isolate",7,""]],skippedNodes:[0,1],repeatNodeCount:1,tokenData:"%c~R^XY}YZ}]^}pq}rs!`st#|}!O$e!Q![$e!]!^#|!c!}$e#R#S$e#T#o$e#o#p${#q#r%W~!SS]~XY}YZ}]^}pq}~!cVOr!`rs!xs#O!`#O#P!}#P;'S!`;'S;=`#v<%lO!`~!}OS~~#QRO;'S!`;'S;=`#Z;=`O!`~#^WOr!`rs!xs#O!`#O#P!}#P;'S!`;'S;=`#v;=`<%l!`<%lO!`~#yP;=`<%l!`~$RSP~OY#|Z;'S#|;'S;=`$_<%lO#|~$bP;=`<%l#|R$lTRPXQ}!O$e!Q![$e!c!}$e#R#S$e#T#o$e~%OP#o#p%R~%WOU~~%ZP#q#r%^~%cOT~",tokenizers:[0,1],topRules:{Program:[0,2]},tokenPrec:0}),O=c.Qf.define([{tag:d.pJ.bracket,class:"mustache-bracket"},{tag:d.pJ.variableName,class:"mustache-variable"},{tag:d.pJ.content,class:"mustache-content"}]);(0,c.nF)(O);let h=c.qp.define({name:"mustache",parser:f.configure({props:[c.x0.add({Mustache:c.Dv}),(0,d.Gv)({LineComment:d.pJ.lineComment,MustacheStart:d.pJ.bracket,MustacheEnd:d.pJ.bracket,MustacheContent:d.pJ.content,MustacheIdentifier:d.pJ.variableName,Identifier:d.pJ.name})]})}),p=l.lg.fromClass(class{update(e){(e.docChanged||e.viewportChanged||e.state.field(P)!==e.startState.field(P))&&(this.decorations=this.createDecorations(e.view))}createDecorations(e){let t=new i.f_,n=e.state.field(P);for(let{from:r,to:a}of e.visibleRanges){let o;let s=e.state.doc.sliceString(r,a),c=/\{\{\s*([\w\-_\$]+)\s*\}\}/g;for(;o=c.exec(s);){let e=r+o.index,a=e+o[0].length,s=o[1],c=n.has(s)?"mustache-content":"mustache-content not-found";t.add(e,a,l.p.mark({class:c}))}}return t.finish()}constructor(e){(0,s._)(this,"decorations",void 0),this.decorations=this.createDecorations(e)}},{decorations:e=>e.decorations}),m=(0,l.bF)((e,t)=>{let{from:n,to:r,text:a}=e.state.doc.lineAt(t),o=Math.max(n,t-10),s=Math.min(r,t+10),c=/\{\{\s*([\w]+)\s*\}\}/g,i=null;for(;i=c.exec(a.slice(o-n,s-n));){let n=o+i.index,r=n+i[0].length;if(n<=t&&r>=t){let t=i[1],a=e.state.field(P).get(t)||"Unknown variable";return{pos:n,end:r,above:!0,create:()=>{let e=document.createElement("div");return e.className="tooltip",e.textContent=a,{dom:e}}}}}return null}),v=c.Qf.define([{tag:d.pJ.bracket,class:"mustache-bracket"},{tag:d.pJ.variableName,class:"mustache-variable"},{tag:d.pJ.special(d.pJ.content),class:"mustache-content"}]),g=(0,c.nF)(v),b=i.Py.define(),P=i.QQ.define({create:()=>new Map,update(e,t){for(let e of t.effects)if(e.is(b))return e.value;return e}}),x=new Map([]),S=new c.ri(h,[g,m]);l.tk.theme({"&":{backgroundColor:"transparent !important",height:"100%"}});let j=e=>{let{initialDoc:t,variables:n,onChange:r}=e,o=(0,a.useRef)(null),[s,c]=(0,a.useState)(),d=(0,a.useRef)(t),f=(0,a.useRef)(r);return(0,a.useEffect)(()=>{if(!o.current||s)return;let e=i.yy.create({doc:d.current,extensions:[u.Xy,S,P.init(()=>x),p,l.tk.updateListener.of(e=>{e.changes&&f.current&&f.current(e.state)})]}),t=new l.tk({state:e,parent:o.current});return c(t),()=>{t.destroy()}},[o]),(0,a.useEffect)(()=>{var e;if(!s)return;let t=new Map(Object.entries(n));s.dispatch({effects:(e=t,b.of(e))})},[n,s]),[o,s]};var k=n("38"),y=n("728");let C="{{name}} loves codemirror and mustache and {{other_name}}.",Q=function(){let[e,t]=(0,a.useState)(C),[n,o]=j({initialDoc:e,onChange:(0,a.useCallback)(e=>{t(e.doc.toString())},[]),variables:{name:"Penn Wang"}}),s=(0,a.useCallback)(()=>{o&&o.dispatch({changes:{from:0,to:o.state.doc.length,insert:""}})},[o]),c=(0,a.useCallback)(()=>{o&&o.dispatch({changes:{from:0,to:o.state.doc.length,insert:C}})},[o]);return(0,r.jsx)(k.W2,{size:"2",children:(0,r.jsxs)(k.kC,{direction:"column",gap:"2",className:"h-screen py-2",children:[(0,r.jsxs)("section",{children:[(0,r.jsx)(k.zx,{size:"1",variant:"soft",onClick:s,children:"Clean"}),(0,r.jsx)(k.zx,{size:"1",variant:"soft",onClick:c,children:"Reset"})]}),(0,r.jsx)("div",{className:"flex flex-1",children:(0,r.jsx)("div",{className:"editor-wrapper h-full",ref:n})}),(0,r.jsx)("footer",{className:"flex justify-end",children:(0,r.jsx)(k.rU,{href:"https://github.com/wangpin34/codemirror-lang-mustache",children:(0,r.jsx)(y.wGg,{})})})]})})};n("344");let M=document.getElementById("root");M&&o.createRoot(M).render((0,r.jsx)(a.StrictMode,{children:(0,r.jsx)(k.Q2,{children:(0,r.jsx)(()=>(0,r.jsx)("div",{children:(0,r.jsx)(Q,{})}),{})})}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var c=2&a&&r;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach(function(e){s[e]=function(){return r[e]}});return s.default=function(){return r},n.d(o,s),o}})(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{var e=[];n.O=function(t,r,a,o){if(r){o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,a,o];return}for(var c=1/0,s=0;s<e.length;s++){for(var r=e[s][0],a=e[s][1],o=e[s][2],i=!0,l=0;l<r.length;l++)(!1&o||c>=o)&&Object.keys(n.O).every(function(e){return n.O[e](r[l])})?r.splice(l--,1):(i=!1,o<c&&(c=o));if(i){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}})(),n.rv=function(){return"1.1.3"},(()=>{var e={980:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a=r[0],o=r[1],s=r[2],c,i,l=0;if(a.some(function(t){return 0!==e[t]})){for(c in o)n.o(o,c)&&(n.m[c]=o[c]);if(s)var u=s(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self.webpackChunkreact_plain_editor=self.webpackChunkreact_plain_editor||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.1.3";var r=n.O(void 0,["361","392"],function(){return n("925")});r=n.O(r)})();